<!DOCTYPE html>
<html lang="en">
  
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-048RD5EJRN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-048RD5EJRN');
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cryptogram Challenge</title>
    <link rel="canonical" href="https://www.maccor.com/crypto.html" /> 
    <meta name="Description" content="Maccor Crypto Quote Puzzle">
    <link href="css/bootstrap-4.4.1.css" rel="stylesheet">
    <link href="css/myStyle.css" rel="stylesheet" type="text/css">
    
    <div id="sticky-button">
        <a href="contact.html">Request a Quote</a>
    </div>

    <style>
        :root {
            --bg-color: #f9f9f9;
            --text-color: #333;
            --accent-color: #2c3e50;
            --input-bg: #fff;
            --input-border: #ccc;
            --highlight: #e0f7fa;
            --maccor-blue: #0056b3;
        }

        /* Applied only to the puzzle wrapper to avoid breaking Navbar/Footer */
        #puzzle-area {
            font-family: 'Courier New', Courier, monospace;
            background-color: var(--bg-color);
            color: var(--text-color);
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            border-radius: 8px;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        #puzzle-area h1 {
            color: var(--accent-color);
            margin-bottom: 20px;
            font-family: 'Courier New', Courier, monospace;
            font-weight: bold;
            text-align: center;
        }

        .instructions {
            font-family: sans-serif;
            margin-bottom: 20px;
            color: #666;
            max-width: 600px;
            text-align: center;
        }

        /* Puzzle Selector Buttons */
        .puzzle-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .puz-btn {
            background-color: #e9ecef;
            border: 1px solid #ced4da;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-family: sans-serif;
            font-size: 1rem;
            transition: all 0.2s;
            color: #555;
        }

        .puz-btn:hover { background-color: #dde2e6; }
        
        .puz-btn.active {
            background-color: var(--maccor-blue);
            color: white;
            border-color: var(--maccor-blue);
        }

        /* Puzzle Container */
        #puzzle-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px 30px; /* Row gap, Word gap */
            max-width: 100%;
            justify-content: center;
            margin-bottom: 40px;
        }

        .word {
            display: flex;
            gap: 2px;
        }

        .letter-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 24px;
        }

        .cipher-char {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
            text-transform: uppercase;
        }

        .user-input {
            width: 24px;
            height: 24px;
            text-align: center;
            font-size: 18px;
            border: 1px solid var(--input-border);
            background-color: var(--input-bg);
            text-transform: uppercase;
            border-radius: 4px;
        }

        .user-input:focus {
            outline: 2px solid var(--accent-color);
            background-color: var(--highlight);
        }

        .punctuation {
            display: flex;
            align-items: flex-end;
            padding-bottom: 5px;
            font-size: 24px;
            font-weight: bold;
        }

        /* Controls */
        .controls {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .controls button {
            padding: 10px 20px;
            cursor: pointer;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 5px;
            font-family: sans-serif;
            font-size: 14px;
            margin: 5px;
        }

        .controls button:hover {
            opacity: 0.9;
        }

        .controls button.reset { background-color: #c0392b; }
        .controls button.hint { background-color: #f39c12; }
        .controls button.solve { background-color: #8e44ad; }
        
        #status-msg {
            margin-top: 15px;
            font-family: sans-serif;
            font-weight: bold;
            min-height: 24px;
            color: #27ae60;
            text-align: center;
        }
    </style>
  </head>
  
  <body style="padding-top: 70px">
  
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/popper.min.js"></script> 
  <script src="js/bootstrap-4.4.1.js"></script>
  
  <div class="container-fluid">
    <div class="container">
      <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light"><a class="navbar-brand" href="index.html"><img src="images/Logo.png" width="200" class="img-fluid" alt="Maccor Logo"> </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
            </li>
            
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="products.html" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Products </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                   <li><a class="dropdown-item" href="products.html">Overview</a></li>
                    <li><hr></li>
                    <li><a class="dropdown-item" href="fusion.html"><strong>FUSION</strong> Integrated Test System</a></li>
                   <li><a class="dropdown-item" href="series6k.html">NextGen</a></li>
                   <li><a class="dropdown-item" href="desktops.html">Desktops</a></li>
                    <li><a class="dropdown-item" href="automatedbatterytester.html">Cell and Module</a></li>
                    <li><a class="dropdown-item" href="compact_temperature_chamber.html">Temperature Chamber</a></li>
                    <li><a class="dropdown-item" href="high_volume_battery_tester.html">High Volume</a></li><li><a class="dropdown-item" href="batteryformation.html">Formation</a></li>
                    <li><a class="dropdown-item" href="m22.html">Virtual Machine</a></li>
                    <li><a class="dropdown-item" href="cell_balancer.html">Cell Balancer</a></li>                  
                    <li><a class="dropdown-item" href="accessories.html">Accessories</a></li>
                    <li><a class="dropdown-item" href="options.html">Options</a></li>
                </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="products.html" id="navbarDropdownMenuLink2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Software </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink2">
                    <li><a class="dropdown-item" href="software.html">Overview</a></li>
                    <li><hr></li>
                    <li><a class="dropdown-item" href="mactest.html">MacTest</a></li>
                    <li><a class="dropdown-item" href="build_test.html">Build Test</a></li>
                    <li><a class="dropdown-item" href="mims_client.html">MIMS Client</a></li>
                    <li><a class="dropdown-item" href="mims_server.html">MIMS Server</a></li>
                    <li><a class="dropdown-item" href="view_data.html">Data Viewer</a></li>
                    <li><a class="dropdown-item" href="export_data.html">Export</a></li>
                    <li><a class="dropdown-item" href="can_dbc_editor.html">CAN Edit</a></li>
                    </ul>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="aboutus.html">About Us</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="worldwide.html">Worldwide</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="contact.html">Contact</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="support.html">Support</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="events.html">Events</a>
            </li>
             <li class="nav-item">
                <a class="nav-link" href="press.html">Press</a>
            </li> 			
             <li class="nav-item active">
                <a class="nav-link" href="cg_v1b.html">Puzzles</a>
            </li>          
        </ul>

      </div>
    </nav>
  </div>  
  </div>
      
    <div class="container-fluid">
      <div class="container">  
        <a href="fusion.html">
          <picture>
            <source media="(max-width: 768px)" srcset="images/banners/empower_banner_mobile.png">
            <img src="images/banners/banner_b.png" alt="Fusion Series" class="img-fluid"/>
          </picture>
        </a>
      </div>
    </div>
      
  <div class="container">
      <div id="puzzle-area">
        <h1>Cryptogram Challenge</h1>
        
        <div class="puzzle-selector">
            <button class="puz-btn active" onclick="loadPuzzle(0)">Quote 1</button>
            <button class="puz-btn" onclick="loadPuzzle(1)">Quote 2</button>
        </div>

        <p class="instructions">Decipher the quote by typing the correct letters in the boxes. <br>Changing one letter will update all identical symbols in the puzzle.</p>
    
        <div id="puzzle-container"></div>
        
        <div id="puzzle-author" style="margin-top: 30px; display: flex; gap: 30px; justify-content: center; flex-wrap: wrap; font-weight: bold; font-size: 1.2em;"></div>
    
        <div id="status-msg"></div>
    
        <div class="controls">
            <button onclick="giveHint()" class="hint">Get a Hint</button>
            <button onclick="solvePuzzle()" class="solve">Solve</button>
            <button onclick="resetPuzzle()" class="reset">Reset</button>
        </div>
      </div>
      
      <div class="row mb-5">
            <div class="col-6 text-left">
                <a href="sudoku_v1.html" class="btn btn-secondary">&laquo; Prev</a>
            </div>
            <div class="col-6 text-right">
                <a href="ws_v1.html" class="btn btn-primary">Next &raquo;</a>
            </div>
        </div>
      </div>

      
  <footer>  
      <div class="container-fluid" id="padding">
        <div class="container"  style="background-color: #ebebeb">	 
      
          <div class="row">
            <div class="col-xl-8"><br>
              <img src="images/Logo.png" width="200" class="img-fluid" alt="Maccor Logo"><br><p><strong id="Footy1">Maccor is the trusted partner for professionals in cutting-edge, innovation-focused settings, offering unparalleled support for the unique challenges faced by laboratories.</strong></p>
            </div>
            <div class="col-xl-2">&nbsp;</div>
          </div>

          <div class="row">
            <div class="col-lg-6 col-xl-4">
              <p>4322 South 49th W Ave&nbsp;Tulsa, OK 74107 USA<br><a href="mailto:sales@maccor.com">sales@maccor.com</a><br><a href="tel:+19184461874">+1 918 446-1874</a></p><p>&nbsp;</p></div>
            <div class="col-lg-6 col-xl-4"></div>
          </div>
	 	    
          <div class="row">
            <div class="col-xl-6"><p>Copyright&#169; 2024, Maccor, Inc., All Rights Reserved.</p></div>
            <div class="col-xl-6"><a href="https://www.linkedin.com/company/maccor-inc-"  target="_blank"><img src="images/In-Blue.png" alt="" width="25"/></a></div>
          </div>
  
        </div>
      </div>
    </footer>  	

    <script>
        // --- DATA SECTION ---
        const puzzles = [
            {
                // Puzzle 1 (Mark Twain)
                text: "TWENTY YEARS FROM NOW YOU WILL BE MORE DISAPPOINTED BY THE THINGS THAT YOU DIDN’T DO THAN BY THE ONES YOU DID DO. SO THROW OFF THE BOWLINES. SAIL AWAY FROM THE SAFE HARBOR. CATCH THE TRADE WINDS IN YOUR SAILS. EXPLORE. DREAM. DISCOVER.” ",
                author: "MARK TWAIN",
                key: {
                    'A': 'H', 'B': 'T', 'C': 'W', 'D': 'S', 'E': 'N', 
                    'F': 'A', 'G': 'D', 'H': 'C', 'I': 'G', 'J': 'B', 
                    'K': 'Y', 'L': 'J', 'M': 'O', 'N': 'M', 'O': 'R', 
                    'P': 'U', 'Q': 'P', 'R': 'E', 'S': 'V', 'T': 'L', 
                    'U': 'I', 'V': 'X', 'W': 'Z', 'X': 'Q', 'Y': 'K', 
                    'Z': 'F'
                }
            },
            {
                // Puzzle 2 (Isaac Newton)
                text: "IF I HAVE SEEN FURTHER THAN OTHERS, IT IS BY STANDING UPON THE SHOULDERS OF GIANTS.",
                author: "ISAAC NEWTON",
                key: {
                    'A': 'D', 'B': 'U', 'C': 'N', 'D': 'F', 'E': 'X', 
                    'F': 'A', 'G': 'C', 'H': 'L', 'I': 'E', 'J': 'W', 
                    'K': 'G', 'L': 'K', 'M': 'Y', 'N': 'I', 'O': 'M', 
                    'P': 'J', 'Q': 'Z', 'R': 'Q', 'S': 'T', 'T': 'V', 
                    'U': 'R', 'V': 'B', 'W': 'H', 'X': 'P', 'Y': 'S', 
                    'Z': 'O'  
                }
            }
        ];

        // Global State
        let currentPuzzleIndex = 0;
        let currentText = "";
        let currentAuthor = "";
        let currentKey = {};
        let currentPlainToCipher = {};
        let userGuesses = {}; 

        // --- INIT & LOAD LOGIC ---
        function loadPuzzle(index) {
            currentPuzzleIndex = index;
            const puzzle = puzzles[index];
            
            // Set Current Data
            currentText = puzzle.text;
            currentAuthor = puzzle.author;
            currentKey = puzzle.key;
            
            // Update Active Button State
            const buttons = document.querySelectorAll('.puz-btn');
            buttons.forEach((btn, idx) => {
                if(idx === index) btn.classList.add('active');
                else btn.classList.remove('active');
            });

            // Generate Reverse Map (Plain -> Cipher) for DOM generation
            currentPlainToCipher = {};
            for (let cipher in currentKey) {
                currentPlainToCipher[currentKey[cipher]] = cipher;
            }

            // Reset Game Board
            const container = document.getElementById('puzzle-container');
            const authorContainer = document.getElementById('puzzle-author');
            
            container.innerHTML = '';
            authorContainer.innerHTML = '';
            userGuesses = {};
            document.getElementById('status-msg').textContent = "";

            // Render Quote
            renderText(currentText, container);
            
            // Render Author
            renderText(currentAuthor, authorContainer);
        }
    
        // Helper to render text into the DOM
        function renderText(text, targetElement) {
            const words = text.split(' ');
    
            words.forEach(word => {
                const wordDiv = document.createElement('div');
                wordDiv.className = 'word';
    
                for (let char of word) {
                    const upperChar = char.toUpperCase();
                    
                    if (/[A-Z]/.test(upperChar)) {
                        // Look up the symbol that REPRESENTS this plain letter
                        const cipherChar = currentPlainToCipher[upperChar];
                        
                        // Safety check in case a letter isn't in the key
                        if (!cipherChar) {
                            console.warn("Letter not found in key:", upperChar);
                        }

                        const displayChar = cipherChar || "?";

                        const letterBox = document.createElement('div');
                        letterBox.className = 'letter-box';
    
                        const cipherLabel = document.createElement('div');
                        cipherLabel.className = 'cipher-char';
                        cipherLabel.textContent = displayChar;
    
                        const input = document.createElement('input');
                        input.className = 'user-input';
                        input.maxLength = 1;
                        input.dataset.cipher = displayChar; 
                        input.value = userGuesses[displayChar] || '';
                        
                        input.addEventListener('input', (e) => handleInput(e, displayChar));
    
                        letterBox.appendChild(cipherLabel);
                        letterBox.appendChild(input);
                        wordDiv.appendChild(letterBox);
                    } else {
                        const punctDiv = document.createElement('div');
                        punctDiv.className = 'punctuation';
                        punctDiv.textContent = char;
                        wordDiv.appendChild(punctDiv);
                    }
                }
                targetElement.appendChild(wordDiv);
            });
        }
    
        // --- GAMEPLAY LOGIC ---
        function handleInput(e, cipherChar) {
            const val = e.target.value.toUpperCase();
            
            if (val) {
                userGuesses[cipherChar] = val;
            } else {
                delete userGuesses[cipherChar];
            }
    
            const allInputs = document.querySelectorAll(`input[data-cipher="${cipherChar}"]`);
            allInputs.forEach(input => {
                input.value = val;
            });
    
            checkWin();
        }
    
        function checkWin() {
            let isComplete = true;
            let isCorrect = true;
            const status = document.getElementById('status-msg');

            // Iterate over the keys present in the DOM
            for (let cipher in currentKey) {
                // Only check keys that actually appear in this specific puzzle
                if (document.querySelector(`input[data-cipher="${cipher}"]`)) {
                    const guess = userGuesses[cipher];
                    const correct = currentKey[cipher];
    
                    if (!guess) {
                        isComplete = false;
                    } else if (guess !== correct) {
                        isCorrect = false;
                    }
                }
            }
    
            if (isComplete && isCorrect) {
                status.textContent = "CORRECT! Great job.";
                status.style.color = "#27ae60";
            } else if (isComplete && !isCorrect) {
                status.textContent = "Something isn't quite right...";
                status.style.color = "#c0392b";
            } else {
                status.textContent = "";
            }
        }
    
        function giveHint() {
            // Find cipher chars that are currently on screen
            const availableCipherChars = Object.keys(currentKey).filter(c => document.querySelector(`input[data-cipher="${c}"]`));
            
            for (let char of availableCipherChars) {
                // If user input is empty OR wrong
                if (userGuesses[char] !== currentKey[char]) {
                    userGuesses[char] = currentKey[char];
                    
                    const inputs = document.querySelectorAll(`input[data-cipher="${char}"]`);
                    inputs.forEach(i => {
                        i.value = currentKey[char];
                        i.style.backgroundColor = "#fff3cd"; // Flash yellow
                        setTimeout(() => i.style.backgroundColor = "", 1000);
                    });
                    
                    checkWin();
                    return; 
                }
            }
        }
        
        function solvePuzzle() {
            if(!confirm("Are you sure you want to reveal the solution?")) return;
    
            for (let cipher in currentKey) {
                if (document.querySelector(`input[data-cipher="${cipher}"]`)) {
                    const correctChar = currentKey[cipher];
                    userGuesses[cipher] = correctChar;
    
                    const inputs = document.querySelectorAll(`input[data-cipher="${cipher}"]`);
                    inputs.forEach(i => {
                        i.value = correctChar;
                    });
                }
            }
            checkWin();
        }
    
        function resetPuzzle() {
            if(confirm("Clear all your work?")) {
                loadPuzzle(currentPuzzleIndex);
            }
        }
    
        // Initialize with Puzzle 1
        window.onload = function() {
            loadPuzzle(0);
        };
    </script>

  </body>
</html>